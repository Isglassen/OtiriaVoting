<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>OtiriaVoting</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <h1 id="otiriavoting">OtiriaVoting</h1>
<p><a href="https://github.com/Isglassen/OtiriaVoting/issues"><img src="https://img.shields.io/github/issues/Isglassen/OtiriaVoting" alt="GitHub issues"></a> <a href="https://github.com/Isglassen/OtiriaVoting/discussions"><img src="https://img.shields.io/github/discussions/Isglassen/OtiriaVoting" alt="GitHub Discussions"></a> <a href="https://github.com/Isglassen/OtiriaVoting/commits/main"><img src="https://img.shields.io/github/package-json/v/Isglassen/OtiriaVoting" alt="GitHub package.json version"></a></p>
<p>En bot som håller i röstningar för Otiria på Minecraftservern jag spelar på</p>
<h2 id="todo">TODO</h2>
<p>Saker jag vill få gjorda</p>
<ul>
<li>Ladda automatiskt upp compiled kod i releases</li>
</ul>
<h2 id="användning">Användning</h2>
<h3 id="bot-configjson"><code>bot-config.json</code></h3>
<p><code>bot-config.json</code> är en fil som förväntas vara i root av projektet tillsammans med <code>index.js</code> och <code>deployCommands.js</code>
Om du kan json schema kan du använda det i <code>bot-config.schema.json</code>. Annars kan du följa detta:</p>
<ul>
<li><code>bot</code>: Information om boten
<ul>
<li><code>token</code>: Botens discord token som du kan finna i <em>Bot</em> kategorin på <a href="https://discord.com/developers/applications">din bots sida</a></li>
<li><code>clientId</code>: Botens client id/application id som du kan finna i <em>General Information</em> kategorin på <a href="https://discord.com/developers/applications">din bots sida</a></li>
<li><code>ownerId</code>: Ditt user id på discord. <a href="https://support.discord.com/hc/en-us/articles/206346498-Where-can-I-find-my-User-Server-Message-ID-">Where can I find my User/Server/Message ID?</a></li>
</ul>
</li>
<li><code>database</code>: Information om databasen. Se även nedan hur du sätter upp den
<ul>
<li><code>host</code>: Den domän eller ip som databasen ligger på</li>
<li><code>user</code>: Den användare som boten ska logga in med</li>
<li><code>password</code>: Lösenordet för att logga in</li>
<li><code>port</code>: Den port som databasen ligger på</li>
<li><code>database</code>: Det databasnamn på destinationen som ska användas</li>
</ul>
</li>
</ul>
<h3 id="databas">Databas</h3>
<p>Det är väldigt viktigt att sätta upp din SQL databas rätt eftersom boten inte kollar att den ska fungera.</p>
<p>Alla <code>BIGINT</code> kan också vara någon sorts string som har plats för ett discord id
Alla <code>STRING(n)</code> kan vara någon sorts string som har plats för <code>n</code> tecken (vi använder <code>VARCHAR(n)</code>)
Databasen behöver följande tabeller:</p>
<ul>
<li><code>guilds</code>: Olika röstningar
<ul>
<li><code>name</code>: <code>STRING(64) NOT NULL</code>, Röstningens namn</li>
<li><code>description</code>: <code>STRING(512) NOT NULL</code>, Röstningens beskrivning</li>
<li><code>channel_id</code>: <code>BIGINT NOT NULL</code>, Den kanal som röstningen ska vara i</li>
<li><code>message_id</code>: <code>BIGINT</code>, Meddelandet som röstingen är på</li>
<li><code>status_message_id</code>: <code>BIGINT NOT NULL</code>, Meddelandet som visar röstningens status för skaparen</li>
<li><code>status_message_channel_id</code>: <code>BIGINT NOT NULL</code>, Kanalen för ovan kollumn</li>
<li><code>creation_time</code>: <code>BIGINT NOT NULL</code>, Epoch timestamp i millisekunder för när röstningen skapades, och dens id</li>
<li><code>started</code>: <code>BOOLEAN NOT NULL</code>, Ifall röstningen har startats eller inte</li>
<li><code>ended</code>: <code>BOOLEAN NOT NULL</code>, Ifall röstningen har avslutats eller inte</li>
<li><code>can_vote_id</code>: <code>BIGINT NOT NULL</code>, Den roll som krävs för att rösta</li>
<li><code>mention_role_id</code>: <code>BIGINT</code>, Den roll som ska nämnas när röstningen startar</li>
<li><code>guild_id</code>: <code>BIGINT NOT NULL</code>, Den guild som röstningen är i</li>
<li><code>live_result</code>: <code>BOOLEAN NOT NULL</code>, Ifall röstningens resultat ska uppdateras live</li>
</ul>
</li>
<li><code>choices</code>: Olika alternativ för röstningar
<ul>
<li><code>guild_id</code>: <code>BIGINT NOT NULL</code>, den guild som alternativet hör till</li>
<li><code>creation_time</code>: <code>BIGINT NOT NULL</code>, id till den röstning som alternativet hör till</li>
<li><code>name</code>: <code>STRING(32) NOT NULL</code>, Namnet på alternativet</li>
<li><code>description</code>: <code>STRING(256) NOT NULL</code>: Beskrivningen av alternativet</li>
</ul>
</li>
<li><code>votes</code>: Olika röster på röstningar
<ul>
<li><code>guild_id</code>: <code>BIGINT NOT NULL</code>, Den guild som rösten hör till</li>
<li><code>creation_time</code>: <code>BIGINT NOT NULL</code>, id till den röstning som rösten hör till</li>
<li><code>user_id</code>: <code>BIGINT NOT NULL</code>, Den användare som rösten hör till</li>
<li><code>choice</code>: <code>STRING(32)</code>, Det alternativ som användaren har röstat på</li>
</ul>
</li>
</ul>
<h3 id="använd-source-code">Använd source code</h3>
<p>Om du har source coden så kan du följa dessa stegen för att köra boten</p>
<ul>
<li>Kör <code>npm install &amp;&amp; npm run build</code> (samma sak som <code>npm install &amp;&amp; rd /s /q compiled &amp;&amp; npx tsc</code>) i root mappen</li>
<li>Lägg till en <code>bot-config.json</code> fil (se ovan)</li>
<li>Kör <code>node ./deployCommands.js &amp;&amp; node .</code> (kör <code>npm run build</code> igen om du ändrar på någon .ts fil)</li>
</ul>
<h3 id="använd-compiled-kod">Använd compiled kod</h3>
<p>Om koden du har är kompiled så kan du följa dessa stegen</p>
<ul>
<li>Lägg till en <code>bot-config.json</code> fil (se ovan)</li>
<li>Kör <code>node ./deployCommands.js &amp;&amp; node .</code></li>
</ul>

        
        
    </body>
    </html>